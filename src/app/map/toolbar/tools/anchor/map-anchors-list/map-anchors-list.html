<div [@slideInOut]="menuState" id="remaining-anchors-list-wrapper">
  <span *ngIf="!anchors || !sinks ">{{'placer.noConnectedDevices'|translate}}</span>
  <table *ngIf="anchors && sinks" cellpadding="10" cellspacing="0">
    <tr>
      <th *ngIf="!chosenSink" colspan="2" class="remaining-devices-header">
        <h2 class="remaining-devices-heading">{{'placer.listOfSinks'|translate}}</h2>
      </th>
      <th *ngIf="chosenSink" colspan="2" class="remaining-devices-header">
        <h2 class="remaining-devices-heading">{{'placer.listOfAnchors'|translate}}</h2>
      </th>
      <th>
        <button class="anchor-list-deselect" (click)="deselectSink()" [disabled]="!chosenSink" md-mini-fab
                md-tooltip="{{'anchor-list.backToSinks'|translate}}" mdTooltipPosition="top">
          <i class="material-icons">arrow_back</i>
        </button>
        <button class="anchor-list-delete" (click)="deleteSink()" [disabled]="!selectedDevice" md-mini-fab
                md-tooltip="{{'anchor-list.delete'|translate}}" mdTooltipPosition="top">
          <i class="material-icons">delete</i>
        </button>
        <button class="anchor-list-select" (click)="selectDevice()" [disabled]="selectedDevice" md-mini-fab
                md-tooltip="{{'anchor-list.selectDevice'|translate}}" mdTooltipPosition="top">
          <i class="material-icons">touch_app</i>
        </button>
      </th>
    </tr>
    <tr>
      <th colspan="2" class="remaining-devices-subheader">
        <h3 class="remaining-devices-subheading">{{'placer.remainingDevices'|translate}}</h3>
      </th>
      <th *ngIf="remainingAnchors.size()">
        <input mdInput autofocus autocomplete="off" type="text"
               id="anchorNameFilter" class="form-control"
               placeholder="{{'filter.findByName'|translate}}" [(ngModel)]="name">
      </th>
      <th *ngIf="!remainingAnchors.size()">
        {{'placer.noRemainingDevicesLeft'|translate}}
      </th>
    </tr>
    <tr>
      <th>{{'device.shortId'|translate}}</th>
      <th>{{'device.longId'|translate}}</th>
      <th>{{'device.name'|translate}}</th>

    </tr>
    <ng-container *ngIf="!chosenSink">
      <tr *ngFor="let sink of sinks | remainingDevicesFilter:name; let i = index"
          dnd-draggable [dragEnabled]="true" [dragData]="sink" (onDragStart)="toggleMenu()"
          [dropZones]="['map-container']" (onDropSuccess)="placeAnchorOnMap(event)">
        <td id="shortId-{{sink.shortId}}">{{sink.shortId}}</td>
        <td id="longId-{{sink.shortId}}">{{sink.longId}}</td>
        <td id="name-{{sink.shortId}}">{{sink.name}}</td>
      </tr>
    </ng-container>
    <ng-container *ngIf="chosenSink">
      <tr *ngFor="let anchor of anchors | remainingDevicesFilter:name; let i = index"
          dnd-draggable [dragEnabled]="true" [dragData]="anchor" (onDragStart)="toggleMenu()"
          [dropZones]="['map-container']" (onDropSuccess)="placeAnchorOnMap(event)">
        <td id="shortId-{{anchor.shortId}}">{{anchor.shortId}}</td>
        <td id="longId-{{anchor.shortId}}">{{anchor.longId}}</td>
        <td id="name-{{anchor.shortId}}">{{anchor.name}}</td>
      </tr>
    </ng-container>
  </table>
</div>
