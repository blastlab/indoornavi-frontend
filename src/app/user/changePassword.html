<h1 [translate]="'changePassword.header'"></h1>

<form #changePasswordForm="ngForm" novalidate>

  <p>
    <strong id="currentUser">{{currentUserName}}</strong>, here you can change your password.
  </p>

  <div class="form-control">
    <md-input-container>
      <input id="user-oldPassword-input" name="oldPassword" [(ngModel)]="model.oldPassword" #oldPassword="ngModel" required type="password"
             mdInput
             placeholder="{{'user.oldPassword'|translate}}">
      <md-hint>
        <small [hidden]="oldPassword.valid || (oldPassword.pristine && !changePasswordForm.submitted)"
               [translate]="'user.oldPassword.required'"></small>
      </md-hint>
    </md-input-container>
  </div>

  <div class="form-control">
    <md-input-container>
      <input id="user-newPassword-input" name="newPassword" [(ngModel)]="model.newPassword" #newPassword="ngModel" required type="password"
             mdInput
             placeholder="{{'user.newPassword'|translate}}">
      <md-hint>
        <small [hidden]="newPassword.valid || (newPassword.pristine && !changePasswordForm.submitted)"
               [translate]="'user.newPassword.required'"></small>
      </md-hint>
    </md-input-container>
  </div>

  <div class="form-control">
    <md-input-container>
      <input id="user-newPassword-repeat-input" name="newPasswordRepeat" [(ngModel)]="model.newPasswordRepeat" #newPasswordRepeat="ngModel" required
             type="password"
             mdInput
             placeholder="{{'user.newPasswordRepeat'|translate}}">
      <md-hint>
        <small [hidden]="newPasswordRepeat.valid || (newPasswordRepeat.pristine && !changePasswordForm.submitted)"
               [translate]="'user.newPasswordRepeat.required'"></small>
      </md-hint>
    </md-input-container>
  </div>

  <div class="validation-errors">
    <small [hidden]="!validatePasswords()" [translate]="'user.passwords.mustEqual'"></small>
  </div>

  <button pButton class="ui-button-success"
          id="save-changes"
          (click)="save(changePasswordForm.valid)"
          label="{{'save'|translate}}"
          icon="fa fa-floppy-o" iconPos="left"
  ></button>
</form>
