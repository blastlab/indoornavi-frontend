<div *ngIf="showAnchorsList" id="remaining-anchors-list-wrapper">


  <div>
    <span *ngIf="!anchors">{{'placer.noRemainingDevicesLeft'|translate}}</span>
    <table *ngIf="anchors" cellpadding="10" cellspacing="0">
      <tr>
        <th colspan="2" class="remaining-devices-header">
          <h3 class="remaining-devices-heading">{{'placer.remainingDevices'|translate}}</h3>
        </th>
        <th colspan="2">
          <input mdInput autofocus autocomplete="off" type="text"
                 id="anchorNameFilter" class="form-control"
                 placeholder="{{'filter.findByName'|translate}}" [(ngModel)]="name">
        </th>
      </tr>
      <tr>
        <th>{{'device.shortId'|translate}}</th>
        <th>{{'device.longId'|translate}}</th>
        <th>{{'device.name'|translate}}</th>
        <th>{{'th.actions'|translate}}</th>
      </tr>
      <tr *ngFor="let anchor of anchors | remainingDevicesFilter:name; let i = index"
          dnd-draggable [dragEnabled]="true" [dragData]="anchor" [dropZones]="['map-container']"
          (onDragSuccess)="logMsg('dragulla')" (onDropSuccess)="logMsg('dropulla')"
          (onDragStart)="anchorDragStarted(anchor)">
        <td id="shortId-{{anchor.shortId}}">{{anchor.shortId}}</td>
        <td id="longId-{{anchor.shortId}}">{{anchor.longId}}</td>
        <td id="name-{{anchor.shortId}}">{{anchor.name}}</td>
        <td>
          <button md-tooltip="{{'placer.put'|translate}}" [appHasPermission]="'ANCHOR_UPDATE'"
                  id="place-on-map-{{anchor.shortId}}" class="place-on-map-button" (click)="anchorToPlaceChosen(anchor)"
                  md-mini-fab mdTooltipPosition="above">
            <i class="material-icons">add_location</i>
          </button>
        </td>
      </tr>
    </table>
  </div>
</div>
