<ng-container *ngIf="isUserLoggedIn || isDisplayedInIFrame; then logged_in else not_logged_in"></ng-container>
<ng-template #logged_in>
  <div *ngIf="!isDisplayedInIFrame" class="ui-g">
    <p-sidebar id="sidebar-menu" [(visible)]="sidebar" position="right"
               [baseZIndex]="10000">
      <div class="menu-sidebar-spacer">
        <div class="ui-g">
          <button pButton class="ui-button-secondary ui-g-12 ui-md-4 ui-lg-4 menu-button" [routerLink]="['./sinks']"
                  (click)="hideSidebar()" icon="fa-share-alt fa-lg" [appHasPermission]="'SINK_UPDATE'">
            <span>{{'sinks.header'|translate}}</span>
          </button>
          <button pButton class="ui-button-secondary ui-g-12 ui-md-4 ui-lg-4 menu-button" [routerLink]="['./anchors']"
                  (click)="hideSidebar()" icon="fa-circle-o-notch fa-lg" [appHasPermission]="'ANCHOR_UPDATE'">
            <span>{{'anchors.header'|translate}}</span>
          </button>
          <button pButton class="ui-button-secondary ui-g-12 ui-md-4 ui-lg-4 menu-button" [routerLink]="['./tags']"
                  (click)="hideSidebar()" icon="fa-tag fa-lg" [appHasPermission]="'TAG_UPDATE'">
            <span>{{'tags.header'|translate}}</span>
          </button>
        </div>
        <div class="ui-g">
          <button pButton class="ui-button-secondary ui-g-12 ui-md-12 ui-lg-12 menu-button"
                  [routerLink]="['./bluetooth']"
                  (click)="hideSidebar()" icon="fa-bluetooth fa-lg" [appHasPermission]="'BLUETOOTH_UPDATE'">
            <span>{{'bluetooth.header'|translate}}</span>
          </button>
        </div>
      </div>
      <div class="menu-sidebar-spacer">
        <div class="ui-g">
          <button pButton class="ui-button-secondary ui-g-12 ui-md-12 ui-lg-12 menu-button"
                  [routerLink]="['./tagsfinder']"
                  (click)="hideSidebar()" icon="fa-bandcamp fa-lg" [appHasPermission]="'COMPLEX_READ'">
            <span>{{'tags.finder'|translate}}</span>
          </button>
        </div>
        <div class="ui-g">
          <button pButton class="ui-button-secondary ui-g-12 ui-md-12 ui-lg-12 menu-button"
                  [routerLink]="['./complexes']"
                  (click)="hideSidebar()" icon="fa-building fa-lg" [appHasPermission]="'COMPLEX_READ'">
            <span>{{'complexes'|translate}}</span>
          </button>
        </div>
      </div>
      <div class="menu-sidebar-spacer">
        <div class="ui-g">
          <button pButton class="ui-button-secondary ui-g-12 ui-md-12 ui-lg-12 menu-button"
                  [routerLink]="['./publications']"
                  (click)="hideSidebar()" icon="fa-map fa-lg" [appHasPermission]="'PUBLICATION_UPDATE'">
            <span>{{'publishedMaps'|translate}}</span>
          </button>
        </div>
        <div class="ui-g">
          <button pButton class="ui-button-secondary ui-g-12 ui-md-6 ui-lg-6 menu-button"
                  [routerLink]="['./permissionGroups']"
                  (click)="hideSidebar()" icon="fa-lock fa-lg" [appHasPermission]="'PERMISSION_GROUP_UPDATE'">
            <span>{{'user.permissionGroups'|translate}}</span>
          </button>
          <button pButton class="ui-button-secondary ui-g-12 ui-md-6 ui-lg-6 menu-button" [routerLink]="['./users']"
                  (click)="hideSidebar()" icon="fa-users fa-lg" [appHasPermission]="'USER_UPDATE'">
            <span>{{'users.header'|translate}}</span>
          </button>
        </div>
        <div class="ui-g">
          <button pButton class="ui-button-secondary ui-g-12 ui-md-8 ui-lg-8 menu-button"
                  [routerLink]="['./changePassword']"
                  (click)="hideSidebar()" icon="fa-key fa-lg">
            <span>{{'changePassword.header'|translate}}</span>
          </button>
          <button pButton class="ui-button-secondary ui-g-12 ui-md-4 ui-lg-4 menu-button" id="logout"
                  [routerLink]="['./logout']"
                  (click)="logout()" icon="fa-sign-out fa-lg">
            <span>{{'logout'|translate}}</span>
          </button>
        </div>
      </div>
    </p-sidebar>
    <div class="ui-g-12 ui-md-11 ui-lg-11">
      <p-breadcrumb [model]="breadcrumbs"></p-breadcrumb>
    </div>
    <div class="ui-g-12 ui-md-1 ui-lg-1">
      <button pButton
              id="menu" (click)="displaySidebar()"
              icon="fa-bars">
      </button>
    </div>
  </div>
  <div class="ui-g">
    <div class="ui-g-12 ui-md-12 ui-lg-12" [ngClass]="{'map-padding': this.mapPublication}">
      <router-outlet></router-outlet>
      <app-footer></app-footer>
    </div>
  </div>
  <p-growl [life]="2500"></p-growl>
</ng-template>
<ng-template #not_logged_in>
  <app-auth></app-auth>
</ng-template>

